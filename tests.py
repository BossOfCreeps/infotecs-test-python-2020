import requests


def test_city_info():
    assert requests.get("http://127.0.0.1:8000/city_info?geonameid=10232663").text == """{"geonameid": "10232663", "name": "Tomsk", "asciiname": "Tomsk", "alternatenames": "", "latitude": "56.46118", "longitude": "84.98842", "feature class": "S", "feature code": "HTL", "country code": "RU", "cc2": "", "admin1 code": "75", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "141", "timezone": "Asia/Tomsk", "modification date": "2015-04-22"}"""


def test_city_list_info():
    assert requests.get("http://127.0.0.1:8000/city_list_info?page=2&city_on_page=20").text == """[{"geonameid": "451767", "name": "Yegor’ye", "asciiname": "Yegor'ye", "alternatenames": "", "latitude": "57.02174", "longitude": "34.29403", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "268", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451768", "name": "Yefremovo", "asciiname": "Yefremovo", "alternatenames": "", "latitude": "57.06001", "longitude": "34.74787", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "188", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451769", "name": "Yavidovo", "asciiname": "Yavidovo", "alternatenames": "Javidovo,Yavidovo,Явидово", "latitude": "56.87068", "longitude": "34.51994", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "217", "timezone": "Europe/Moscow", "modification date": "2012-01-16"}, {"geonameid": "451770", "name": "Yasnaya Polyana", "asciiname": "Yasnaya Polyana", "alternatenames": "", "latitude": "56.93054", "longitude": "34.54696", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "214", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451771", "name": "Yasnaya Polyana", "asciiname": "Yasnaya Polyana", "alternatenames": "", "latitude": "56.90599", "longitude": "34.97555", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "185", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451772", "name": "Yakutino", "asciiname": "Yakutino", "alternatenames": "", "latitude": "56.99404", "longitude": "34.9857", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "159", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451773", "name": "Yakshino", "asciiname": "Yakshino", "alternatenames": "", "latitude": "57.08518", "longitude": "34.60433", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "188", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451774", "name": "Yakovlevo", "asciiname": "Yakovlevo", "alternatenames": "", "latitude": "57.3122", "longitude": "34.12509", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "280", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451775", "name": "Yakimovo", "asciiname": "Yakimovo", "alternatenames": "", "latitude": "57.14907", "longitude": "34.60264", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "193", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451776", "name": "Vysokoye", "asciiname": "Vysokoye", "alternatenames": "", "latitude": "56.98226", "longitude": "34.43519", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "202", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451777", "name": "Vysokoye", "asciiname": "Vysokoye", "alternatenames": "", "latitude": "56.8213", "longitude": "34.52753", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "244", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451778", "name": "Vyshgorod", "asciiname": "Vyshgorod", "alternatenames": "", "latitude": "56.9323", "longitude": "34.36491", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "210", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451779", "name": "Vyalets", "asciiname": "Vyalets", "alternatenames": "", "latitude": "57.19192", "longitude": "34.10974", "feature class": "H", "feature code": "STM", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "240", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451780", "name": "Urochishche Vtoraya Molozha", "asciiname": "Urochishche Vtoraya Molozha", "alternatenames": "", "latitude": "56.71654", "longitude": "34.0446", "feature class": "L", "feature code": "LCTY", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "235", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451781", "name": "Vpered", "asciiname": "Vpered", "alternatenames": "", "latitude": "56.94095", "longitude": "34.43464", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "219", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451782", "name": "Vostsy", "asciiname": "Vostsy", "alternatenames": "", "latitude": "57.15375", "longitude": "34.82483", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "199", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451783", "name": "Voronovo", "asciiname": "Voronovo", "alternatenames": "", "latitude": "57.02926", "longitude": "34.46772", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "211", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451784", "name": "Voronovo", "asciiname": "Voronovo", "alternatenames": "", "latitude": "56.78582", "longitude": "34.03805", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "229", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451785", "name": "Vorob’yevo", "asciiname": "Vorob'yevo", "alternatenames": "", "latitude": "57.16933", "longitude": "34.90437", "feature class": "P", "feature code": "PPL", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "161", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}, {"geonameid": "451786", "name": "Urochishche Voraksikha", "asciiname": "Urochishche Voraksikha", "alternatenames": "", "latitude": "56.87934", "longitude": "34.23175", "feature class": "L", "feature code": "LCTY", "country code": "RU", "cc2": "", "admin1 code": "77", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "0", "elevation": "", "dem": "247", "timezone": "Europe/Moscow", "modification date": "2011-07-09"}]"""


def test_two_city():
    assert requests.get("http://127.0.0.1:8000/two_city?first=Томск&second=Москва").text == """{"Томск": {"geonameid": "1489425", "name": "Tomsk", "asciiname": "Tomsk", "alternatenames": "TOF,Tom'sku,Tomck,Tomium,Toms'k,Tomsk,Tomska,Tomskaj,Tomskas,Tomszk,Tomçk,tomseukeu,tomska,tomusuku,tuo mu si ke,twmsk,twmsq,Τομσκ,Томск,Томскай,Томськ,Томьскъ,Տոմսկ,טומסק,تومسك,تومسک,ٹومسک,तोम्स्क,トムスク,托木斯克,톰스크", "latitude": "56.49771", "longitude": "84.97437", "feature class": "P", "feature code": "PPLA", "country code": "RU", "cc2": "", "admin1 code": "75", "admin2 code": "1489419", "admin3 code": "", "admin4 code": "", "population": "485519", "elevation": "", "dem": "117", "timezone": "Asia/Tomsk", "modification date": "2019-09-05"}, "Москва": {"geonameid": "524894", "name": "Moskva", "asciiname": "Moskva", "alternatenames": "Maskva,Moscou,Moscow,Moscu,Moscú,Moskau,Moskou,Moskovu,Moskva,Məskeu,Москва,Мәскеу", "latitude": "55.76167", "longitude": "37.60667", "feature class": "A", "feature code": "ADM1", "country code": "RU", "cc2": "", "admin1 code": "48", "admin2 code": "", "admin3 code": "", "admin4 code": "", "population": "11503501", "elevation": "", "dem": "161", "timezone": "Europe/Moscow", "modification date": "2020-03-31"}, "to_the_north": "Томск", "timezone": "time in the first place is more than 4.0 hours"}"""


def test_helper():
    assert requests.get("http://127.0.0.1:8000/helper?name=Том").text == """Томызь, Томышевка, Томылово, Томузловское, Томсино, Томилино, Томилино, Томаша, Томаша, Томарово, Томорово, Томарово, Томарово, Томаровка, Тома, Том, Томилин Колодезь, Томилино, Томбу, Томаньга, Томарово, Томаровка, Томлинский, Томанский, Томшарово, Томлей, Томатный, Томиловичи, Томское, Томская Область, Томская область, Томская, Томская, Томская, Томск, Томскай, Томськ, Томьскъ, Томна, Томинский, Томилово, Томилово, Томиловка, Томь-Чумыш, Томалык, Томилова, Томский, Томинский, Томинское, Томино, Томино, Томинский, Томтор, Томтор, Томтор, Томтор, Томтор, Томское, Томское, Томптокан, Томтокан, Томпо, Томпа, Томмот, Томот, Томичи, Томь, Том, Томари, Томари, Томтор, Томакасы, Томиловы, Томь-Чумыш, Томулах, Томсино, Томашёвка, Томиловская, Томыловка, Томаш, Томилово, Томашёво, Томыш, Томилкино, Томша, Томский, Томрог, Томокта, Томахтай, Томхотой, Томчиха, Томчиха, Томага, Томузловка, Томбы, Томашница, Томакан, Томтор, Томога, Томашница, Томашка, Томейю, Томка, Томиловка, Томская Таможня, Томский Областной Суд, Томари"""
